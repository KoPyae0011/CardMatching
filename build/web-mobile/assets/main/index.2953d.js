window.__require=function t(e,r,i){function o(n,c){if(!r[n]){if(!e[n]){var l=n.split("/");if(l=l[l.length-1],!e[l]){var s="function"==typeof __require&&__require;if(!c&&s)return s(l,!0);if(a)return a(l,!0);throw new Error("Cannot find module '"+n+"'")}n=l}var d=r[n]={exports:{}};e[n][0].call(d.exports,function(t){return o(e[n][1][t]||t)},d,d.exports,t,e,r,i)}return r[n].exports}for(var a="function"==typeof __require&&__require,n=0;n<i.length;n++)o(i[n]);return o}({audioController:[function(t,e,r){"use strict";cc._RF.push(e,"5e2c6bRH59O9KzJEQt0mFAk","audioController"),cc.Class({extends:cc.Component,properties:{lose:{default:null,type:cc.AudioClip},win:{default:null,type:cc.AudioClip}},onLoad:function(){},_playLoseMusic:function(){this.loseMusic=cc.audioEngine.play(this.lose,!1,1)},_playWinMusic:function(){this.winMusic=cc.audioEngine.play(this.win,!1,1)}}),cc._RF.pop()},{}],cardController:[function(t,e,r){"use strict";cc._RF.push(e,"11229jwPC5B7o3de9fGiJqa","cardController"),cc.Class({extends:cc.Component,properties:{itemImage:{default:null,type:cc.Sprite}},linkWithMain:function(t){this.mainController=t},setupCard:function(t,e,r){this.cardID=t,this.itemImage.spriteFrame=e,this.imageID=r},cardPropertiresControl:function(t){0==t?(this.itemImage.node.opacity=0,this.node.getComponent(cc.Button).interactable=!0):1==t&&(this.itemImage.node.opacity=255,this.node.getComponent(cc.Button).interactable=!1)},onClickCard:function(){var t=this;t.mainController.stateObject.cardAction[t.cardID]=1,t.mainController.renderCards(t.cardID);var e=t.mainController.stateObject.cardAction.filter(function(t){return t>0});t.scheduleOnce(function(){e.length%2==0?t.mainController.stateObject.cardAllocation[t.cardID]!=t.mainController.stateObject.cardAllocation[t.mainController.previousCardID]?(t.mainController.stateObject.cardAction[t.cardID]=0,t.mainController.stateObject.cardAction[t.mainController.previousCardID]=0,t.mainController.audioController._playLoseMusic(),t.mainController.renderCards()):(t.mainController.stateObject.cardAction[t.cardID]=1,t.mainController.stateObject.cardAction[t.mainController.previousCardID]=1,t.mainController.audioController._playWinMusic(),t.imageID>7&&(t.imageID-=8),t.mainController._createResultItem(t.imageID),t.mainController.renderCards()):(t.mainController.stateObject.cardAction[t.cardID]=1,t.mainController.previousCardID=t.cardID,t.mainController.previousCard=t.imageID,t.mainController.renderCards())},.3)}}),cc._RF.pop()},{}],gameMainController:[function(t,e,r){"use strict";cc._RF.push(e,"437e7go8/dLNpAOyazZYCa2","gameMainController"),cc.Class({extends:cc.Component,properties:{timeString:{default:null,type:cc.Label},mainGameNode:{default:null,type:cc.Node},cardPrefab:{default:null,type:cc.Prefab},cardSprites:{default:[],type:cc.SpriteFrame},fullBody:{default:[],type:cc.SpriteFrame},resultShow:{default:null,type:cc.Node},resItem:{default:null,type:cc.Prefab},audioManager:{default:null,type:cc.Node},proBar:{default:null,type:cc.ProgressBar},mask:{default:null,type:cc.Node},resLabel:{default:null,type:cc.Label},resNode:{default:null,type:cc.Node},startNode:{default:null,type:cc.Node}},onLoad:function(){this.init(),this._createRandomCardAllocation(),this._createGrids(),this.playTimer()},init:function(){this.stateObject={cardAllocation:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],cardAction:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},this.win=!1,this.previousCardID,this.previousCard,this.audioController=this.audioManager.getComponent("audioController"),this.mask.active=!1,this.resLabel.string="",this.resNode.active=!1,this.myTime=100,this.startNode.active=!0},playTimer:function(){this.timer=1,this.schedule(this.timerAction,this.timer)},timerAction:function(){if(0==this.myTime)this.unschedule(this.timerAction),this.mask.active=!0,this.resLabel.string="Game Over...",this.resNode.active=!0;else{var t=this.myTime/100;this.myTime-=this.timer,this.proBar.progress=t,1==this.win&&(this.unschedule(this.timerAction),this.mask.active=!0,this.resLabel.string="Success Pairings...",this.resNode.active=!0)}},_createResultItem:function(t){var e=cc.instantiate(this.resItem);e.getComponent(cc.Sprite).spriteFrame=this.fullBody[t],this.resultShow.addChild(e)},_createRandomCardAllocation:function(){for(var t,e,r=this.stateObject.cardAllocation,i=r.length;0!=i;)e=Math.floor(Math.random()*i),t=r[i-=1],r[i]=r[e],r[e]=t;this.stateObject.cardAllocation=r},_createGrids:function(){this.cardNodeArray=[];for(var t=0;t<16;t++){var e=cc.instantiate(this.cardPrefab);this.cardNodeArray[t]=e.getComponent("cardController");var r=t,i=this.cardSprites[this.stateObject.cardAllocation[t]],o=this.stateObject.cardAllocation[t];e.getComponent("cardController").linkWithMain(this),e.getComponent("cardController").setupCard(r,i,o),this.mainGameNode.addChild(e)}this.calculateArray(),this.renderCards()},calculateArray:function(){for(var t=0;t<16;t++)this.stateObject.cardAllocation[t]>7&&(this.stateObject.cardAllocation[t]-=8)},renderCards:function(){var t=this;t.stateObject.cardAction.forEach(function(e,r){0==e?t.cardNodeArray[r].cardPropertiresControl(0):1==e&&t.cardNodeArray[r].cardPropertiresControl(1)}),8==t.resultShow.childrenCount?t.win=!0:t.win=!1},onClickQuitButton:function(){cc.game.end()},onClickRestartButton:function(){cc.director.loadScene("cardGameScene")},onClickStartButton:function(){this.startNode.active=!1}}),cc._RF.pop()},{}]},{},["audioController","cardController","gameMainController"]);